{{ form_start(form, {'attr': {'class': 'form-horizontal'}}) }}

<div class="container mt-5">
    <div class="card p-4 bg-dark text-white">
        <div class="form-group row mb-3">
            {{ form_label(form.lastname, 'Nom', {'label_attr': {'class': 'col-sm-2 col-form-label'}}) }}
            <div class="col-sm-10">
                {{ form_widget(form.lastname, {'attr': {'class': 'form-control'}}) }}
            </div>
        </div>

        <div class="form-group row mb-3">
            {{ form_label(form.firstname, 'Prénom', {'label_attr': {'class': 'col-sm-2 col-form-label'}}) }}
            <div class="col-sm-10">
                {{ form_widget(form.firstname, {'attr': {'class': 'form-control'}}) }}
            </div>
        </div>

        <div class="form-group row mb-3">
            {{ form_label(form.login, 'Identifiant', {'label_attr': {'class': 'col-sm-2 col-form-label'}}) }}
            <div class="col-sm-10">
                {{ form_widget(form.login, {'attr': {'class': 'form-control'}}) }}
            </div>
        </div>

        <div class="form-group row mb-3">
            {{ form_label(form.email, 'Adresse mail', {'label_attr': {'class': 'col-sm-2 col-form-label'}}) }}
            <div class="col-sm-10">
                {{ form_widget(form.email, {'attr': {'class': 'form-control'}}) }}
            </div>
        </div>

        <div class="form-group row mb-3">
            {{ form_label(form.isAdministration, 'Activité', {'label_attr': {'class': 'col-sm-2 col-form-label'}}) }}
            <div class="col-sm-10">
                {{ form_widget(form.isAdministration, {'attr': {'class': 'form-check-input'}}) }}
            </div>
        </div>

        <div class="form-group row mb-3">
            {{ form_label(form.roles, 'Rôle', {'label_attr': {'class': 'col-sm-2 col-form-label'}}) }}
            <div class="col-sm-10">
                {{ form_widget(form.roles, {'attr': {'class': 'form-select'}}) }}
            </div>
        </div>

        <div id="hour" class="form-group row mb-3">
            {{ form_label(form.hoursMax, "Nombre d'heures en dehors du département", {'label_attr': {'class': 'col-sm-2 col-form-label'}}) }}
            <div class="col-sm-10">
                {{ form_widget(form.hoursMax, {'attr': {'class': 'form-control'}}) }}
            </div>
        </div>

        <div class="text-end">
            <button class="btn btn-primary">{{ button_label|default('Enregistrer') }}</button>
            <button class="btn btn-secondary" type="button">Annuler</button>
        </div>
    </div>
</div>

{{ form_end(form) }}

<script>
    // hide or show hoursMax field according to user roles selection
    function toggleHourVisibility() {
        const isAdministration = document.getElementById('user_isAdministration');
        const roles = document.getElementById('user_roles');
        const hour = document.getElementById('hour');
        if (isAdministration.checked && !roles.selectedOptions.length) {
            hour.style.visibility = 'hidden';
            document.getElementById('user_hoursMax').value = 0;
        } else {
            hour.style.visibility = 'visible';
        }
    }
    toggleHourVisibility();
    document.getElementById('user_isAdministration').addEventListener('change', toggleHourVisibility);
    document.getElementById('user_roles').addEventListener('change', toggleHourVisibility);
</script>


